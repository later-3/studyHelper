开发规则内容


# StudyHelper 开发规则与规范

## 项目愿景
打造一个真正有价值的商业级AI教育产品，通过优秀的UI设计和数据架构，实现个性化学习助手。

## 核心原则

### 1. 用户体验优先
- **响应速度**：所有操作必须在1秒内响应
- **直观性**：用户无需学习即可上手
- **一致性**：整个应用保持统一的设计语言
- **可访问性**：支持不同设备和用户群体

### 2. 数据架构设计
- **关系清晰**：用户-班级-学生-作业-错题的关系要清晰
- **查询高效**：支持多维度快速查询
- **扩展性强**：为未来功能预留接口
- **数据完整性**：确保数据一致性和完整性

### 3. 商业价值导向
- **教师友好**：为教师提供强大的管理工具
- **学生成长**：清晰展示学习进步
- **家长参与**：让家长了解孩子学习情况
- **学校管理**：为学校提供数据分析

## UI设计规范

### 设计系统
- **色彩**：主色调使用教育蓝(#1976D2)，辅助色为成功绿(#4CAF50)和警告橙(#FF9800)
- **字体**：使用系统默认字体，确保可读性
- **间距**：统一使用8px的倍数作为间距
- **圆角**：统一使用4px圆角

### 组件规范
- **卡片**：信息展示的主要容器
- **表格**：数据列表展示
- **图表**：数据可视化
- **按钮**：操作入口
- **导航**：页面切换

## 开发规范

### 代码质量
- **注释**：所有函数必须有中文注释
- **测试**：新功能必须有对应测试
- **文档**：重要功能需要更新文档

### 性能要求
- **首屏加载**：< 2秒
- **交互响应**：< 500ms
- **数据查询**：< 1秒

### 数据存储
- **用户数据**：JSON文件存储，支持未来迁移到数据库
- **图片存储**：本地文件系统，支持CDN迁移
- **缓存策略**：智能缓存，减少重复计算

## 功能优先级

### 第一阶段（当前）
1. 优化答题历史页面UI
2. 实现错题分组展示
3. 完善教师管理界面
4. 优化数据查询性能

### 第二阶段
1. 学生学习画像
2. 班级统计分析
3. 家长查看界面
4. 移动端适配

### 第三阶段
1. 智能推荐系统
2. 学习计划生成
3. 多端同步
4. 数据分析报告

## 技术栈选择

### 前端
- **Streamlit**：快速原型，支持复杂交互
- **Streamlit Elements**：Material-UI组件
- **Plotly**：数据可视化
- **Pandas**：数据处理

### 后端
- **Python**：核心逻辑
- **JSON**：数据存储
- **PaddleOCR**：图像识别
- **OpenAI API**：AI分析

### 未来扩展
- **FastAPI**：API服务
- **PostgreSQL**：数据库
- **Redis**：缓存
- **Docker**：容器化

## 测试规范

### 单元测试
- 覆盖率 > 80%
- 所有核心功能必须有测试
- 测试用例要包含边界情况

### 集成测试
- 端到端流程测试
- 数据一致性测试
- 性能测试

### 用户测试
- 定期收集用户反馈
- 优化用户体验
- 修复发现的问题

## 文档规范

### 代码文档
- 函数必须有docstring
- 复杂逻辑必须有注释
- 使用中文注释

### 用户文档
- 功能说明文档
- 使用教程
- 常见问题解答

### 开发文档
- 架构设计文档
- API文档
- 部署文档

## 版本管理

### Git规范
- 使用语义化版本号
- 提交信息要清晰
- 重要功能要打标签

### 发布流程
- 开发 -> 测试 -> 发布
- 每个版本要有更新日志
- 重要更新要通知用户

## 监控与维护

### 性能监控
- 响应时间监控
- 错误率监控
- 用户行为分析

### 数据备份
- 定期备份用户数据
- 备份策略要可靠
- 恢复流程要简单

### 安全考虑
- 用户数据加密
- API访问控制
- 防止数据泄露

---

*本文档会随着项目发展持续更新，确保开发规范与时俱进。*

你是一个资深代码高手，需遵守以下规则：
1、技术命名保持英文，用户界面使用合理的中文
2、功能实现必须要有对应的测试，每次实现之后，先测试，确保功能正确性
3、这是一个商业化产品,软件架构一定要好
4、一定要考虑扩展性，比如现在用的是deepseek，后续可能用其他大模型，现在用的ocr是这个开源库，但后面可能直接就换成其他识别图片的神经网络，现在保存数据用的格式，后面可能会替换到其他数据库
5、我们的核心是这些数据演变出我们的算法:智能化编排学习任务,智能编排学习计划,智能学习对话机器人
6、要安装python库，请记住使用的是venv，路径是 /Users/xulater/studyHelper/studyhelper-demo/studyhelper311 ，并且使用pip3
7、实现功能时，首先考虑优秀开源项目是如何做的。比如添加日志，这里是否有开源的日志库，可以控制到底开启什么级别的日志，甚至提供日志压缩，转存等。
8、web界面调整，需要使用框架，不要自己写css，需要保持统一、美观、间接
9、一定要记住有测试用例，每个功能都要有测试用例，测试用例在tests目录下，我们现在的开发和设计、用例都要按照非常优秀的开源项目为基准，功能开发和模块划分要考虑扩展性，架构和要之前一直，该重构的时候要重构
10、注意目前的开发环境是macbook m4，要考虑到可移植性
11、实现时可先参考优秀开源项目实现，尽量写出高性能、高可读性代码，优雅的完成任务
12、每次实现小功能时，就提交一次，小步快跑
13、开发时先创建分支，在分支上完成功能开发测试后，申请我的同意合入主干